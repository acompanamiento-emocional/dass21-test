<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Resultados | Acompañamiento emocional</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #f7f7f7;
      margin: 0;
      padding: 0;
      color: #222;
    }

    header {
      text-align: center;
      padding: 40px 20px 20px;
    }

    header img {
      width: 90px;
      margin-bottom: 10px;
    }

    header h1 {
      font-size: 1.8rem;
      margin: 0;
    }

    .container {
      max-width: 800px;
      margin: auto;
      padding: 20px;
    }

    .speech {
      background: white;
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 30px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.05);
      line-height: 1.6;
    }

    .indicator {
      background: white;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.05);
    }

    .indicator h3 {
      margin-top: 0;
    }

    .level {
      font-weight: bold;
      margin-bottom: 10px;
    }

    .availability {
      margin-top: 15px;
      font-size: 0.9rem;
      color: #555;
    }

    .cta {
      text-align: center;
      margin: 40px 0;
    }

    .cta button {
      background: #222;
      color: white;
      border: none;
      padding: 15px 30px;
      font-size: 1rem;
      border-radius: 30px;
      cursor: pointer;
    }

    .cta small {
      display: block;
      margin-top: 8px;
      color: #777;
      font-size: 0.8rem;
    }
  </style>
</head>

<body>

<header>
  <img src="logo.png" alt="Logo Acompañamiento emocional">
  <h1>Acompañamiento emocional</h1>
</header>

<div class="container">

  <!-- SPEECH GENERAL -->
  <div class="speech" id="generalSpeech"></div>

  <!-- INDICADORES -->
  <div id="indicators"></div>

  <!-- CTA -->
  <div class="cta">
    <button>Programar una reunión</button>
    <small>Disponibilidad limitada según el momento</small>
  </div>

</div>

<script>
  /* ===============================
     RESULTADOS (EJEMPLO)
     Estos valores luego vendrán del DASS-21
  =============================== */

  const results = {
    ansiedad: "Alta",
    depresion: "Baja",
    estres: "Moderada"
  };

  /* ===============================
     SPEECH GENERALES
  =============================== */

  const generalHighSpeech = `
    <p><strong>Gracias por compartir cómo te has sentido.</strong></p>
    <p>A partir de tus respuestas, se observan señales de malestar emocional que han estado presentes durante la última semana.</p>
    <p>Esto no define quién eres, pero sí merece ser escuchado.</p>
    <p>Hablar de lo que sentimos, incluso un poco, suele aliviar más de lo que imaginamos.</p>
    <p>Si lo deseas, puedes conversar con uno de nuestros acompañantes emocionales, en un espacio confidencial y a tu ritmo.</p>
  `;

  const generalLowSpeech = `
    <p>A partir de tus respuestas, tus niveles de ansiedad, depresión y estrés se encuentran en rangos bajos durante la última semana.</p>
    <p>Aun así, sabemos que no todo malestar se refleja de la misma manera y que cada persona vive sus procesos de forma distinta.</p>
    <p>Cuidar tu bienestar emocional también implica atender lo que sientes antes de que se vuelva más pesado.</p>
    <p>Si te gustaría explorar cómo te sientes, reflexionar o simplemente contar con un espacio de escucha, nuestros acompañantes emocionales están disponibles para ti.</p>
  `;

  /* ===============================
     SPEECH POR INDICADOR
  =============================== */

  const indicatorSpeeches = {
    ansiedad: `
      Vivir con ansiedad puede sentirse como estar siempre en alerta, incluso cuando no hay un peligro claro.
      Hablar de ello puede ayudarte a entender qué está pasando y a recuperar poco a poco la sensación de calma.
      Un acompañante emocional puede caminar contigo en este proceso.
    `,
    depresion: `
      A veces, cuando el ánimo se vuelve más pesado, no es fácil pedir ayuda.
      No porque no la necesitemos, sino porque cuesta poner en palabras lo que pasa por dentro.
      Un acompañante emocional puede ayudarte a explorar lo que estás viviendo, sin juicios y a tu ritmo.
    `,
    estres: `
      Cuando el estrés se acumula, el cuerpo y la mente empiezan a pedir una pausa.
      Atenderlo a tiempo puede marcar una gran diferencia en cómo te sientes día a día.
      Conversar con alguien puede ayudarte a ordenar lo que pesa.
    `
  };

  /* ===============================
     UTILIDADES
  =============================== */

  function hasModerateOrHigh(results) {
    return Object.values(results).some(level =>
      level === "Moderada" || level === "Alta"
    );
  }

  function availabilityByLevel(level) {
    if (level === "Alta") return Math.floor(Math.random() * 2) + 1; // 1–2
    if (level === "Moderada") return Math.floor(Math.random() * 2) + 2; // 2–3
    return Math.floor(Math.random() * 2) + 4; // 4–5
  }

  /* ===============================
     RENDER GENERAL SPEECH
  =============================== */

  document.getElementById("generalSpeech").innerHTML =
    hasModerateOrHigh(results) ? generalHighSpeech : generalLowSpeech;

  /* ===============================
     RENDER INDICADORES
  =============================== */

  const indicatorsContainer = document.getElementById("indicators");

  for (const key in results) {
    const level = results[key];
    const availability = availabilityByLevel(level);

    const div = document.createElement("div");
    div.className = "indicator";

    div.innerHTML = `
      <h3>${key.charAt(0).toUpperCase() + key.slice(1)}</h3>
      <div class="level">Nivel: ${level}</div>
      <p>${indicatorSpeeches[key]}</p>
      <div class="availability">
        ${availability} especialista${availability > 1 ? "s" : ""} disponible${availability > 1 ? "s" : ""}
      </div>
    `;

    indicatorsContainer.appendChild(div);
  }
</script>

</body>
</html>
